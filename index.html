<html>

<head>
	<title>Hit The Strike.</title>

	<script type="text/javascript">
		//init object globally
		var myVar = setInterval(myTimer, 1000);
		var limit = 30;
        var hit = 0;
        var count = 0;
		
		var master1 = null;
		var target1 = null;
		function myTimer() {
			limit = limit - 1;
			count = count + 1;
			document.getElementById("timer").innerHTML = "Time : "+ limit + " seconds..";
			if(limit == 0) {
			alert("game over ...\n your score is ..." + hit*5);
			document.location.reload(true)
			}
			if(count == 5) {
			init();
			count = 0;
			}
		}
		function init() {
			master1 = document.getElementById("master");
			master1.style.position = 'relative';
			master1.style.left = '0px';
			master1.style.width = '50px';
			master1.style.height = '50px';
			master1.style.top = '0px';
			target1 = document.getElementById("target");
			target1.style.position = 'relative';

			target1.style.left = Math.floor((Math.random() * 100) + 1) + 'px';
			target1.style.width = '50px';
			target1.style.height = '50px';
			target1.style.top = Math.floor((Math.random() * 100) + 1) + 'px';

			// var myMusic = new Audio("Spells-a-Brewin.mp3");
			// myMusic.play();

			// Show loading animation.

		}



		function getKeyAndMove(e) {
			var key_code = e.which || e.keyCode;
			switch (key_code) {
				case 37: //left arrow key
					moveLeft();
				
					break;
				case 38: //Up arrow key
					moveUp();
					
					break;
				case 39: //right arrow key
					moveRight();
				
					break;
				case 40: //down arrow key
					moveDown();
					
					break;
			}
		}
		function moveLeft() {
			master1.style.left = parseInt(master1.style.left) - 2 + 'px';

			var leftMaster = parseInt(master1.style.left);
			var widthMaster = parseInt(master1.style.width);
			var heightMaster = parseInt(master1.style.height);
			var topMaster = parseInt(master1.style.top);
			var latitudeMaster = leftMaster + widthMaster;
			var longitudeMaster = heightMaster + topMaster;

			var leftTarget = parseInt(target1.style.left);
			var widthTarget = parseInt(target1.style.width);
			var heightTarget = parseInt(target1.style.height);
			var topTarget = parseInt(target1.style.top);
			var latitudeTarget = leftTarget + widthTarget;

			var longitudeTarget = heightTarget + topTarget;
			console.log(longitudeTarget);


			if ((latitudeMaster > latitudeTarget) && (latitudeMaster < (latitudeTarget + 100))) {
				if ((longitudeMaster > longitudeTarget - heightTarget) && (longitudeMaster <= longitudeTarget + heightTarget)) {

					alert("collision");


					window.load = init();

					hit++;
					document.getElementById("score").innerHTML = hit * 5;

				}
			}
		}
		function moveUp() {
			master1.style.top = parseInt(master1.style.top) - 2 + 'px';
			var leftMaster = parseInt(master1.style.left);
			var widthMaster = parseInt(master1.style.width);
			var heightMaster = parseInt(master1.style.height);
			var topMaster = parseInt(master1.style.top);
			var latitudeMaster = leftMaster + widthMaster;
			var longitudeMaster = heightMaster + topMaster;

			var leftTarget = parseInt(target1.style.left);
			var widthTarget = parseInt(target1.style.width);
			var heightTarget = parseInt(target1.style.height);
			var topTarget = parseInt(target1.style.top);
			var latitudeTarget = leftTarget + widthTarget;
			var longitudeTarget = heightTarget + topTarget;
			console.log(longitudeTarget);

			if ((latitudeMaster >= latitudeTarget) && (latitudeMaster <= (latitudeTarget + 100))) {
				if ((longitudeMaster >= longitudeTarget - heightTarget) && (longitudeMaster <= longitudeTarget + heightTarget)) {
					alert("collision");


					window.load = init();
					hit++;
					document.getElementById("score").innerHTML = hit * 5;


				}
			}


		}
		function moveRight() {
			master1.style.left = parseInt(master1.style.left) + 2 + 'px';
			var leftMaster = parseInt(master1.style.left);
			var widthMaster = parseInt(master1.style.width);
			var heightMaster = parseInt(master1.style.height);
			var topMaster = parseInt(master1.style.top);
			var latitudeMaster = leftMaster + widthMaster;
			var longitudeMaster = heightMaster + topMaster;

			var leftTarget = parseInt(target1.style.left);
			var widthTarget = parseInt(target1.style.width);
			var heightTarget = parseInt(target1.style.height);
			var topTarget = parseInt(target1.style.top);
			var latitudeTarget = leftTarget + widthTarget;
			var longitudeTarget = heightTarget + topTarget;
			console.log(longitudeTarget);

			if ((latitudeMaster > latitudeTarget) && (latitudeMaster < (latitudeTarget + 100))) {
				if ((longitudeMaster > longitudeTarget - heightTarget) && (longitudeMaster <= longitudeTarget + heightTarget)) {
					alert("collision");


					window.load = init();
					hit++;
					document.getElementById("score").innerHTML = hit * 5;


				}
			}


		}
		function moveDown() {
			master1.style.top = parseInt(master1.style.top) + 2 + 'px';
			var leftMaster = parseInt(master1.style.left);
			var widthMaster = parseInt(master1.style.width);
			var heightMaster = parseInt(master1.style.height);
			var topMaster = parseInt(master1.style.top);
			var latitudeMaster = leftMaster + widthMaster;
			var longitudeMaster = heightMaster + topMaster;

			var leftTarget = parseInt(target1.style.left);
			var widthTarget = parseInt(target1.style.width);
			var heightTarget = parseInt(target1.style.height);
			var topTarget = parseInt(target1.style.top);
			var latitudeTarget = leftTarget + widthTarget;
			var longitudeTarget = heightTarget + topTarget;
			console.log(longitudeTarget);


			if ((latitudeMaster > latitudeTarget) && (latitudeMaster < (latitudeTarget + 100))) {
				if ((longitudeMaster > longitudeTarget - heightTarget) && (longitudeMaster <= longitudeTarget + heightTarget)) {
					alert("collision");


					window.load = init();
					hit++;
					document.getElementById("score").innerHTML = hit * 5;


				}
			}


		}
		window.onload = init;
	</script>

	<link href="style.css" rel="stylesheet" type="text/css">

	<link href='https://fonts.googleapis.com/css?family=ZCOOL QingKe HuangYou' rel='stylesheet'>


</head>

<body onkeydown='getKeyAndMove(event)'>
	<p id="title">Hit The Strike</p>
	<img id="master" src="master.jpg" alt="Master" />
	<img id="target" src="target.jpg" alt="Target" />



	<div id="footer">
        <p id="scoreLabel">Here's Your Score: <span id="score"></span></p>
        <p id="timer">Time:</p>
	</div>
</body>

</html>












